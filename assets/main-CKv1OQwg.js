/* empty css              */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const L=e=>{let t;localStorage.getItem("cookies")==null?(t=[],t.push(e),localStorage.setItem("cookies",JSON.stringify(t))):(t=JSON.parse(localStorage.getItem("cookies")),t.push(e),localStorage.setItem("cookies",JSON.stringify(t)))},B=()=>{let e;return localStorage.getItem("cookies")==null?e=[]:e=JSON.parse(localStorage.getItem("cookies")),e},C=e=>{const t=JSON.parse(localStorage.getItem("cookies"));t.forEach((o,c)=>{o.id===e.id&&(console.log(e.id),console.log(o.id),t.splice(c,1,e))}),localStorage.setItem("cookies",JSON.stringify(t))},q=e=>{const t=JSON.parse(localStorage.getItem("cookies"));t.forEach((o,c)=>{o.id===e&&t.splice(c,1)}),localStorage.setItem("cookies",JSON.stringify(t))},E=()=>{localStorage.removeItem("cookies")};class ${constructor(t,o,c,n){this.id=t,this.name=o,this.money=c,this.category=n}}const a={items:B(),currentItem:null,totalMoney:0},M=()=>a.items,x=(e,t,o)=>{t=parseInt(t);let c;a.items.length>0?c=a.items[a.items.length-1].id+1:c=0;const n=new $(c,e,t,o);return a.items.push(n),n},O=e=>{let t;return a.items.forEach(o=>{o.id===e&&(t=o)}),t},N=(e,t,o)=>{t=parseInt(t);let c;return a.items.forEach(n=>{n.id===a.currentItem.id&&(n.name=e,n.money=t,n.category=o,c=n)}),c},w=e=>{a.items.forEach((t,o)=>{t.id===e&&a.items.splice(o,1)})},P=()=>{a.items=[]},T=e=>{a.currentItem=e},v=()=>a.currentItem,g=()=>{let e=[0];return a.items.forEach(t=>{e.push(t.money)}),a.totalMoney=e.reduce((t,o)=>t+o),a.totalMoney},J=()=>a,l={ulList:".transaction-list",liList:".transaction",inputName:"#item-name",inputMoney:"#item-money",addBtn:".add-btn",updateBtn:".update-btn",deleteBtn:".delete-btn",backBtn:".back-btn",totalMoney:".total__cash",category:"#category",removeBtn:".btn-remove",svg:"svg",totalPercent:".total__percent"},A=e=>{const t=document.querySelector(l.ulList);e.forEach(o=>{const c=document.createElement("li");c.classList.add("transaction"),c.setAttribute("id",o.id),c.innerHTML=`<p class="transaction-name"><i class="${o.category}"></i>${o.name}</p>
            <p class="transaction-amount">${o.money}zł <button class="edit"><i class="fa fa-pencil"></i></button></p>`,o.money>0?c.lastChild.style.color="lime":c.lastChild.style.color="red",t.append(c)})},D=e=>{const t=document.querySelector(l.ulList),o=document.createElement("li");o.classList.add("transaction"),o.setAttribute("id",e.id),o.innerHTML=`<p class="transaction-name"><i class="${e.category}"></i>${e.name}</p>
    <p class="transaction-amount">${e.money}zł <button class="edit"><i class="fa fa-pencil"></i></button></p>`,e.money>0?o.lastChild.style.color="lime":o.lastChild.style.color="red",t.append(o)},_=e=>{document.querySelectorAll(l.liList).forEach(o=>{o.id==e.id&&(o.innerHTML=`<p class="transaction-name"><i class="${e.category}"></i>${e.name}</p><p class="transaction-amount">${e.money}zł <button class="edit"><i class="fa fa-pencil"></i></button></p>`,e.money>0?o.lastChild.style.color="lime":o.lastChild.style.color="red")})},p=e=>{const o=document.querySelector(l.svg).lastChild.previousElementSibling,c=document.querySelector(l.totalPercent),n=parseInt(e/1e6*100);let s=0,y=setInterval(()=>{s<n?(s++,c.textContent=`${s}%`,o.style.cssText=`--percent: ${s}`,o.attributes.stroke.value="lime",s>=n?(s=n,clearInterval(y)):s>=100&&(s=100,clearInterval(y)),console.log(s)):s>n&&(c.textContent=`${s}%`,o.style.cssText=`--percent: ${s}`,s--,o.attributes.stroke.value="red",s<=n?(s=n,clearInterval(y)):s<=-100&&(s=-100)),o.style.cssText=`--percent: ${s}`,c.textContent=`${s}%`},20)},U=e=>{document.getElementById(e).remove()},F=()=>{document.querySelector(l.ulList).textContent=""},b=()=>{const e=document.querySelector(l.category);return e.options[e.selectedIndex].text},h=e=>{let t;switch(e){case"[ + ] Incomes":t="fas fa-money-bill-wave";break;case"[ - ] Home":t="fa-solid fa-house";break;case"[ - ] Entertaiment":t="fas fa-film";break;case"[ - ] Shopping":t="fas fa-cart-arrow-down";break}return t},H=e=>{e.name.value=v().name,e.money.value=v().money},f=e=>{const t=document.querySelector(l.totalMoney);let o=0,c=parseInt(e/100),s=setInterval(()=>{e>0?(o+=c,t.textContent=o+"$",o>=e&&(t.textContent=e+"$",clearInterval(s))):(o-=-c,t.textContent=o+"$",o<=e&&(t.textContent=e+"$",clearInterval(s)))},10)},z=()=>{const e=document.querySelector(l.inputName),t=document.querySelector(l.inputMoney),o=document.querySelector(l.category);return{name:e,money:t,category:o}},S=e=>{e.name.value="",e.money.value="",e.category.selectedIndex=0},K=()=>l,I=(e,t)=>{document.querySelector(l.addBtn).style.display=e,document.querySelector(l.updateBtn).style.display=t,document.querySelector(l.deleteBtn).style.display=t,document.querySelector(l.backBtn).style.display=t},j=()=>{document.querySelector(".transactions").classList.toggle("active")},G=()=>{const e=z(),t=()=>{if(e.name.value!==""&&e.money.value!==""&&e.category.selectedIndex!==0){const r=b(),i=h(r),d=x(e.name.value,e.money.value,i);D(d);const u=g();f(u),p(u),S(e),L(d)}},o=r=>{if(r.target.matches(".fa-pencil")){const i=r.target.closest("li").id,d=parseInt(i),u=O(d);T(u),H(e),I("none","inline")}},c=()=>{if(e.name.value!==""&&e.money.value!==""&&e.category.selectedIndex!==0){const r=b(),i=h(r),d=N(e.name.value,e.money.value,i);_(d);const u=g();f(u),p(u),I("inline","none"),C(d),S(e)}},n=()=>{const r=v();w(r.id),U(r.id);const i=g();f(i),p(i),I("inline","none"),S(e),q(r.id)},s=()=>{P(),F();const r=g();console.log(r),f(r),p(r),E();const i=J();console.log(i)},m=()=>{I("inline","none"),S(e)},y=()=>{const r=K();document.querySelector(r.addBtn).addEventListener("click",t),document.querySelector(r.ulList).addEventListener("click",o),document.querySelector(r.updateBtn).addEventListener("click",c),document.querySelector(r.deleteBtn).addEventListener("click",n),document.querySelector(r.removeBtn).addEventListener("click",s),document.querySelector(r.backBtn).addEventListener("click",m),document.querySelector(".transaction__burger").addEventListener("click",j)},k=()=>{const r=M();A(r);const i=g(),d=f(i);console.log(d),p(i),I("inline","none")};y(),k()};window.addEventListener("DOMContentLoaded",G);
